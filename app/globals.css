@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* Font Face Declarations */
  @font-face {
    font-family: 'Calibre';
    src:
      url('/fonts/Calibre/Calibre-Regular.woff2') format('woff2'),
      url('/fonts/Calibre/Calibre-Regular.woff') format('woff');
    font-weight: 400;
    font-style: normal;
    font-display: swap;
  }

  @font-face {
    font-family: 'Calibre';
    src:
      url('/fonts/Calibre/Calibre-Medium.woff2') format('woff2'),
      url('/fonts/Calibre/Calibre-Medium.woff') format('woff');
    font-weight: 500;
    font-style: normal;
    font-display: swap;
  }

  @font-face {
    font-family: 'Calibre';
    src:
      url('/fonts/Calibre/Calibre-Semibold.woff2') format('woff2'),
      url('/fonts/Calibre/Calibre-Semibold.woff') format('woff');
    font-weight: 600;
    font-style: normal;
    font-display: swap;
  }

  @font-face {
    font-family: 'SF Mono';
    src:
      url('/fonts/SFMono/SFMono-Regular.woff2') format('woff2'),
      url('/fonts/SFMono/SFMono-Regular.woff') format('woff');
    font-weight: 400;
    font-style: normal;
    font-display: swap;
  }

  @font-face {
    font-family: 'SF Mono';
    src:
      url('/fonts/SFMono/SFMono-Semibold.woff2') format('woff2'),
      url('/fonts/SFMono/SFMono-Semibold.woff') format('woff');
    font-weight: 600;
    font-style: normal;
    font-display: swap;
  }

  /* Global Styles */
  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }

  html {
    @apply scroll-smooth;
    width: 100%;
    scroll-behavior: smooth;
  }

  body {
    @apply bg-navy text-slate font-sans;
    width: 100%;
    min-height: 100%;
    overflow-x: hidden;
    -moz-osx-font-smoothing: grayscale;
    -webkit-font-smoothing: antialiased;
    line-height: 1.6;
    font-size: 18px; /* Increased base font size for better readability */
  }

  ::selection {
    @apply bg-lightest-navy text-lightest-slate;
  }

  /* Scrollbar Styles */
  html {
    scrollbar-width: thin;
    scrollbar-color: theme('colors.dark-slate') theme('colors.navy');
  }

  ::-webkit-scrollbar {
    width: 12px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-navy;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-dark-slate rounded;
    border: 3px solid theme('colors.navy');
  }

  /* Focus Styles */
  :focus {
    outline: 2px dashed theme('colors.green');
    outline-offset: 3px;
  }

  a:focus-visible,
  button:focus-visible {
    outline: 2px dashed theme('colors.green');
    outline-offset: 3px;
  }

  /* External Links Cursor */
  a[target='_blank'] {
    cursor: ne-resize;
  }

  /* Skip to Content Link */
  .skip-to-content {
    @apply fixed top-0 left-0 bg-green text-navy px-6 py-4 font-mono text-sm rounded;
    transform: translateY(-100%);
    transition: transform 0.3s;
    z-index: 100;
  }

  .skip-to-content:focus {
    transform: translateY(0);
  }
}

@layer components {
  /* Button Styles */
  .btn {
    @apply inline-block px-7 py-5 font-mono text-sm leading-none text-green border border-green rounded;
    @apply transition-all cursor-pointer;
    @apply hover:bg-green-tint;
    transition-duration: 250ms;
  }

  /* Section Numbering */
  .numbered-heading {
    @apply flex items-center relative w-full text-2xl md:text-3xl whitespace-nowrap font-semibold text-lightest-slate;
    @apply mb-10 md:mb-12;
  }

  .numbered-heading::before {
    @apply relative bottom-1 font-mono text-lg md:text-xl font-normal text-green mr-3;
    counter-increment: section 1;
    content: '0' counter(section) '.';
  }

  .numbered-heading::after {
    @apply block relative w-full h-px ml-5 bg-lightest-navy;
    content: '';
  }

  /* Link Styles */
  .inline-link {
    @apply relative inline-block text-green transition-all;
    text-decoration: none;
    text-decoration-skip-ink: auto;
    transition-duration: 250ms;
  }

  .inline-link:hover,
  .inline-link:focus {
    @apply text-green;
  }

  .inline-link::after {
    @apply absolute left-0 bottom-px w-full h-px bg-green opacity-50 transition-all;
    content: '';
    transition-duration: 250ms;
  }

  .inline-link:hover::after,
  .inline-link:focus::after {
    @apply w-full;
  }

  /* Container */
  .container-custom {
    @apply max-w-7xl mx-auto px-6 md:px-12 lg:px-24;
  }

  /* Section */
  .section {
    @apply py-16 md:py-24 lg:py-32;
  }

  /* Mobile-specific improvements */
  @media (max-width: 768px) {
    .numbered-heading {
      @apply text-xl mb-8;
    }

    .numbered-heading::before {
      @apply text-base;
    }

    .section {
      @apply py-12;
    }
  }

  /* Fade Enter Animation */
  .fadeup-enter {
    opacity: 0;
    transform: translateY(20px);
  }

  .fadeup-enter-active {
    opacity: 1;
    transform: translateY(0);
    transition:
      opacity 0.5s cubic-bezier(0.645, 0.045, 0.355, 1),
      transform 0.5s cubic-bezier(0.645, 0.045, 0.355, 1);
  }

  /* Fade Down Animation */
  .fadedown-enter {
    opacity: 0;
    transform: translateY(-20px);
  }

  .fadedown-enter-active {
    opacity: 1;
    transform: translateY(0);
    transition:
      opacity 0.5s cubic-bezier(0.645, 0.045, 0.355, 1),
      transform 0.5s cubic-bezier(0.645, 0.045, 0.355, 1);
  }

  /* Fade Animation */
  .fade-enter {
    opacity: 0;
  }

  .fade-enter-active {
    opacity: 1;
    transition: opacity 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);
  }
}

@layer utilities {
  /* Fill Height */
  .fill-height {
    min-height: 100vh;
  }

  /* Big Button */
  .big-button {
    @apply px-7 py-5 text-sm;
  }

  /* Counter Reset */
  .counter-reset {
    counter-reset: section;
  }
}
